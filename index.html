<!DOCTYPE html>
<html lang="ar" dir="rtl">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <meta property="og:title" content="ูุฐูุฑ | ุฑูููู ููุชูุฑุจ ุฅูู ุงููู">
    <meta property="og:description" content="ุตุฏูุฉ ุฌุงุฑูุฉ || ุฃุฐูุงุฑุ ููุงููุช ุงูุตูุงุฉุ ุฃุญุงุฏูุซ ูุจููุฉุ ูุชุฐููุฑ ุชููุงุฆู ุจุงูุฐูุฑ.">
    <meta property="og:image" content="https://magnificent-lebkuchen-a74cdf.netlify.app/image/logo.png">
    <meta property="og:url" content="https://magnificent-lebkuchen-a74cdf.netlify.app/">
    <meta property="og:type" content="website">
    <title>ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ | ูุฐูุฑ </title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Amiri&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="ุงูุงุฐูุงุฑ.css">
</head>

<div class="beta-ribbon-wrapper">
    <div class="beta-ribbon-content">
        ุฌุงุฑู ุงูุชุทููุฑ
    </div>
</div>

<body class="theme-green">

    <div class="premium-news-bar">
        <div class="scrolling-wrapper" id="mainTickerWrapper">
            <div class="ticker-item welcome-part">
                <i class="fa-solid fa-star-and-crescent"></i>
                <span id="user-display-name">ุฃููุงู ุจู ูู ุฑุญุงุจ ุงูุฐูุฑ</span>
            </div>

            <span class="diamond-sep">โ</span>

            <div class="ticker-item date-part">
                <i class="fa-regular fa-calendar-check"></i>
                <span id="live-full-date">ุฌุงุฑู ุถุจุท ุงูุชูููู...</span>
            </div>
<span class="diamond-sep">โ</span>
<div class="ticker-item hijri-part">
    <i class="fa-solid fa-kaaba"></i>
    <span id="live-hijri-date">ุฌุงุฑู ุงูุชุญููู...</span>
</div>

            <span class="diamond-sep">โ</span>

          
            <div class="ticker-item ramadan-part">
                <i class="fa-solid fa-moon"></i>
                <span id="ramadan-countdown">ุฌุงุฑู ุงูุชุญููู ...</span>
            </div>
        </div>
    </div>
    
    <script type="module">
        import { auth, db } from './auth.js';
        import { onAuthStateChanged } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js";
        import { doc, getDoc } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";

        function renderDateTime() {
    const dateNow = new Date();

    // 1. ุงูุชุงุฑูุฎ ุงููููุงุฏู
    const mOption = { day: 'numeric', month: 'long', year: 'numeric' };
    const gregDate = dateNow.toLocaleDateString('ar-EG', mOption);

    // 2. ุงูุชุงุฑูุฎ ุงููุฌุฑู (ุงูููุทู ููุฌูุฏ ุฃุตูุงู ูู ููุฏู)
    const hOption = { day: 'numeric', month: 'long', year: 'numeric' }; // ุถููุง ุงูุชูุณูู ููุง
    const hijriFormatter = new Intl.DateTimeFormat('ar-SA-u-ca-islamic-uma-nu-arab', hOption);
    const hijriDate = hijriFormatter.format(dateNow);

    // ุงูุชุนุฏูู ููุง:
    const dateTarget = document.getElementById('live-full-date');
    const hijriTarget = document.getElementById('live-hijri-date');

    if (dateTarget) dateTarget.innerText = `${gregDate} ู`;
    if (hijriTarget) hijriTarget.innerText = `${hijriDate} ูู`;

    calculateRamadan();
}


        // ุงุณุชุฏุนุงุก ุงูุฏุงูุฉ ุนูุฏ ุชุญููู ุงูุตูุญุฉ
        renderDateTime();

        // 2. ุงูุชุญูู ูู ุงููุณุชุฎุฏู ูุฌูุจ ุงุณูู ุงูุฃูู
        onAuthStateChanged(auth, async (user) => {
            const nameDisplay = document.getElementById('user-display-name');

            if (user) {
                try {
                    // ุจูุฑูุญ ูููุงูุฑุณุชูุฑ ูุฌูุจ ุงูุฏููููููุช ุงููู ุงุณูู ููุณ ุงูู UID
                    const docRef = doc(db, "users_azkar", user.uid);
                    const docSnap = await getDoc(docRef);

                    if (docSnap.exists()) {
                        const userData = docSnap.data();
                        // ุจูุนุฑุถ ุงูุงุณู ุงูุฃูู ุงููู ุณูููุงู ููุช ุงูู Signup
                        nameDisplay.innerText = `ูุฑุญุจุงูุ ${userData.firstName}`;
                    } else {
                        nameDisplay.innerText = "ูุฑุญุจุงู ุจู ูุง ููุฑู";
                    }
                } catch (err) {
                    console.error("Error fetching name:", err);
                    nameDisplay.innerText = "ูุฑุญุจุงู ุจู ูู ูุฐูุฑ";
                }
            } else {
                // ูู ูุด ูุณุฌู ุฏุฎูู
                nameDisplay.innerText = "ุฃููุงู ุจู ูู ูุฐูุฑ";
            }
        });

        // ุชุดุบูู ุงูุชุงุฑูุฎ
        renderDateTime();
    </script>
    <div class="overlay" id="overlay" onclick="closeSidebar()"></div>

    <aside class="sidebar" id="sidebar">
        <ul class="sidebar-menu">
            <li onclick="location.href='index.html'">
                <i class="fa-solid fa-house"></i>
                <span>ุงูุฑุฆูุณูุฉ</span>
            </li>

            <li id="profileItem" onclick="location.href='profile.html'">
                <i class="fa-solid fa-user-gear"></i>
                <span>ุงูููู ุงูุดุฎุตู</span>
            </li>

            <li onclick="location.href='pages/hisn.html'">
                <i class="fa-solid fa-book-quran"></i>
                <span>ุญุตู ุงููุณูู</span>
            </li>

            <li onclick="location.href='pages/morning.html?type=ุงูุตุจุงุญ'">
                <i class="fa-solid fa-sun"></i>
                <span>ุฃุฐูุงุฑ ุงูุตุจุงุญ</span>
            </li>

            <li onclick="location.href='pages/evening.html?type=ุงููุณุงุก'">
                <i class="fa-solid fa-moon"></i>
                <span>ุฃุฐูุงุฑ ุงููุณุงุก</span>
            </li>

            <li onclick="location.href='pages/Salah.html?type=ุงูุตูุงุฉ'">
                <i class="fa-solid fa-mosque"></i>
                <span>ุฃุฐูุงุฑ ุงูุตูุงุฉ</span>
            </li>

            <li onclick="location.href='pages/help.html'">
                <i class="fa-solid fa-circle-info"></i>
                <span>ุงููุณุงุนุฏุฉ</span>
            </li>
<li onclick="location.href='pages/about.html'" style="cursor: pointer;">
    <i class="fa-solid fa-file-lines"></i>
    <span>ุนู ุงููููุน</span>
</li>
<li onclick="location.href='pages/developer.html'" style="cursor: pointer;">
    <i class="fa-solid fa-code"></i>
    <span>ุงููุทูุฑ</span>
</li>

            <li class="login-item" id="authItem">
                <i class="fa-solid fa-right-to-bracket" id="authIcon"></i>
                <span id="authText">ุชุณุฌูู ุงูุฏุฎูู</span>
            </li>

            <li class="omar-signature">
                <span><a href="https://wa.me/201158601817">๐ฟ by : Omar Tegany</a></span>

            </li>

        </ul>
    </aside>

    <div id="bot-trigger" onclick="toggleChat()">
        <i class="fas fa-robot"></i>
    </div>
    <!-- ุงูุจูุช -->
    <div id="chat-container">
        <div id="chat-header">
            <div onclick="openRenameModal()" class="header-info">
                <div class="bot-avatar">
                    <img src="https://cdn-icons-png.flaticon.com/512/4712/4712035.png" alt="Bot">
                    <span class="online-dot"></span>
                </div>
                <div class="bot-details">
                    <strong id="bot-name-display">ุขุฏู</strong>
                    <small id="bot-status-text">ูุชุตู ุงูุขู</small>
                </div>
            </div>
            <i class="fas fa-times close-btn" onclick="toggleChat()"></i>
        </div>

        <div id="chat-body"></div>

        <div id="chat-input-area">
            <input type="text" id="user-input" placeholder="ููู ูููููู ูุณุงุนุฏุชูุ">
            <button id="send-btn" onclick="handleSendMessage()">
                <i class="fas fa-paper-plane"></i>
            </button>
        </div>

        <div id="rename-modal">
            <div class="modal-content">
                <h4>ุชุฎุตูุต ุงุณู ุงูุจูุช</h4>
                <input type="text" id="new-bot-name" maxlength="10" placeholder="ุงูุชุจ ุงูุงุณู ุงูุฌุฏูุฏ...">
                <div class="modal-buttons">
                    <button onclick="saveBotName()" class="save-btn">ุญูุธ ุงูุชุนุฏูู</button>
                    <button onclick="closeRenameModal()" class="cancel-btn">ุฅูุบุงุก</button>
                </div>
            </div>
        </div>
    </div>

   <audio id="bot-sound" src=""></audio>


<script>
    /**
     * ุฅุนุฏุงุฏุงุช ุงูุจูุช ูุงูุฐุงูุฑุฉ ุงููุญููุฉ
     */
    let botName = localStorage.getItem('bot_name') || "ุขุฏู";
    let userName = "ูุง ุจุทู";
    let isFirstOpen = true;

    // ุฏุงูุฉ ุฌูุจ ุงุณู ุงููุณุชุฎุฏู ูู ุงูุตูุญุฉ
    function getStoredName() {
        const nameDisplay = document.getElementById('user-display-name');
        if (nameDisplay) {
            let text = nameDisplay.innerText;
            let cleanName = text.replace(/ูุฑุญุจุงูุ|ูุฑุญุจุงู ุจู ูุง|ุฃููุงู ุจู ูู ุฑุญุงุจ ุงูุฐูุฑ|ุฃููุงู ุจู ูู ูุฐูุฑ/g, '').trim();
            if (cleanName.length > 1) {
                userName = cleanName;
                localStorage.setItem('userFirstName', cleanName);
                return cleanName;
            }
        }
        return localStorage.getItem('userFirstName') || "ูุง ุจุทู";
    }

    // ูุชุญ ูุฅุบูุงู ุงูุฏุฑุฏุดุฉ
    function toggleChat() {
        const chat = document.getElementById('chat-container');
        if (!chat) return;
        const isOpen = chat.style.display === 'flex';
        chat.style.display = isOpen ? 'none' : 'flex';

        if (!isOpen && isFirstOpen) {
            isFirstOpen = false;
            userName = getStoredName();
            showTypingIndicator(true);
            setTimeout(() => {
                showTypingIndicator(false);
                sendBotReply(`ูุฑุญุจุงู ูุง ${userName}ุ ููู ูููููู ูุณุงุนุฏุชู ุงููููุ โจ`);
            }, 1000);
        }
    }

    // ุฌูุจ ููุงููุช ุงูุตูุงุฉ
    async function getPrayerTimes() {
        try {
            const response = await fetch('https://api.aladhan.com/v1/timingsByCity?city=Cairo&country=Egypt&method=5');
            const data = await response.json();
            return data.data.timings;
        } catch (error) {
            console.error("ุฎุทุฃ ูู ุฌูุจ ุงูููุงููุช:", error);
            return null;
        }
    }

    /**
     * ุงููุญุฑู ุงูุฑุฆูุณู ุงูุฐูู (ุฏูุงุบ ุงูุจูุช)
     */
    async function handleSendMessage() {
        const inputField = document.getElementById('user-input');
        const userText = inputField.value.trim();
        if (!userText) return;

        // ุนุฑุถ ุฑุณุงูุฉ ุงููุณุชุฎุฏู
        appendMsg(userText, 'user-m');
        inputField.value = "";
        userName = getStoredName();
        showTypingIndicator(true);

        let reply = "";
        const lowerInput = userText.toLowerCase();

        // 1. ุงูุฃูุงูุฑ ุงูุจุฑูุฌูุฉ ุงูุญูุฉ (ุฃููููุฉ ูุตูู)
        if (lowerInput.includes("ุตูุงุฉ") || lowerInput.includes("ููุงููุช") || lowerInput.includes("ุงููุบุฑุจ")) {
            const times = await getPrayerTimes();
            if (times) {
                reply = lowerInput.includes("ุงููุบุฑุจ") 
                    ? `ุตูุงุฉ ุงููุบุฑุจ ุงูููู ูู ุชูุงู ุงูุณุงุนุฉ ${times.Maghrib} ุจุชูููุช ุงููุงูุฑุฉ ูุง ${userName}.`
                    : `ููุงููุช ุงูุตูุงุฉ ุงูููู:\nุงููุฌุฑ: ${times.Fajr}\nุงูุธูุฑ: ${times.Dhuhr}\nุงูุนุตุฑ: ${times.Asr}\nุงููุบุฑุจ: ${times.Maghrib}\nุงูุนุดุงุก: ${times.Isha}`;
            }
        } 
        else if (lowerInput.includes("ุฑูุถุงู")) {
            const ramadanDate = new Date("2026-02-18");
            const diff = Math.ceil((ramadanDate - new Date()) / (1000 * 60 * 60 * 24));
            reply = diff > 0 ? `ูุชุจูู ${diff} ููู ุนูู ุดูุฑ ุงูุฎูุฑ ูุง ${userName}.` : "ูุจุงุฑู ุนูููู ุงูุดูุฑ ุงููุถูู! ๐";
        }
        else if (lowerInput.includes("ุงูุณุงุนุฉ") || lowerInput.includes("ุงูููุช")) {
            reply = `ุงูุณุงุนุฉ ุงูุขู ${new Date().toLocaleTimeString('ar-EG', { hour: '2-digit', minute: '2-digit' })} ูุง ${userName}.`;
        }

        // 2. ุงูุจุญุซ ุงูุฐูู ูู ููู JSON (ุงููููุงุช ุงูููุชุงุญูุฉ | ูุชุจุฏูู ุงูุฃุณูุงุก)
        if (!reply) {
            try {
                const response = await fetch('bot-brain.json');
                const brain = await response.json();
                
                for (let key in brain) {
                    // ุชูุณูู ุงูููุงุชูุญ ุจูุงุกู ุนูู ุงูุนูุงูุฉ |
                    let keywords = key.split('|');
                    // ุงูุชุญูู ูู ุฑุณุงูุฉ ุงููุณุชุฎุฏู ุชุญุชูู ุนูู ุฃู ูููุฉ ููุชุงุญูุฉ
                    let isFound = keywords.some(k => lowerInput.includes(k.trim()));
                    
                    if (isFound) {
                        // ุชุจุฏูู {name} ุจุงุณู ุงููุณุชุฎุฏู ู {bot} ุจุงุณู ุงูุจูุช
                        reply = brain[key]
                            .replace(/{name}/g, userName)
                            .replace(/{bot}/g, botName);
                        break;
                    }
                }
            } catch (e) { 
                console.warn("ูุดู ุงูุงุชุตุงู ุจููู JSON ุฃู ุงูููู ุบูุฑ ููุฌูุฏ ุจุงููุณุงุฑ ุงูุตุญูุญ"); 
            }
        }

        // 3. ุงูุฑุฏ ุงูุนุดูุงุฆู ุงูุงูุชุฑุงุถู
        if (!reply) {
            const defaults = [
                `ููุงู ุฌููู ูุง ${userName}ุ ูู ุชูุฏ ุฃู ูุฐูุฑ ุงููู ุณููุงูุ`,
                "ูู ุฃูููู ุชูุงูุงูุ ููู ุฌุฑุจ ุฃู ุชุณุฃููู ุนู ููุงููุช ุงูุตูุงุฉ ุฃู ุฃุฐูุงุฑ ูุนููุฉ.",
                "ุฃูุง ูุณู ุจุชุนูู ูู ุนูุฑุ ุณุฃุชุนูู ุงูุฑุฏ ุนูู ูุฐุง ูุฑูุจุงู!"
            ];
            reply = defaults[Math.floor(Math.random() * defaults.length)];
        }

        // ุฅุฑุณุงู ุงูุฑุฏ
        setTimeout(() => {
            showTypingIndicator(false);
            sendBotReply(reply);
        }, 1000);
    }

    // ุงูุชุญูู ูู "ููุชุจ ุงูุขู..."
    function showTypingIndicator(show) {
        const status = document.getElementById('bot-status-text');
        const body = document.getElementById('chat-body');
        if (show) {
            if (status) status.innerText = `${botName} ููุชุจ ุงูุขู...`;
            if (!document.getElementById('typing-bubble')) {
                const div = document.createElement('div');
                div.id = 'typing-bubble';
                div.className = 'miro-msg bot-m animate-msg';
                div.innerHTML = `<div class="typing-dots"><span></span><span></span><span></span></div>`;
                body.appendChild(div);
            }
        } else {
            if (status) status.innerText = "ูุชุตู ุงูุขู";
            const bubble = document.getElementById('typing-bubble');
            if (bubble) bubble.remove();
        }
        body.scrollTop = body.scrollHeight;
    }

    // ุฅุฑุณุงู ุงูุฑุฏ ุงูุตูุชู ูุงููุฑุฆู
    function sendBotReply(txt) {
        appendMsg(txt, 'bot-m');
        const sound = document.getElementById('bot-sound');
        if (sound) {
            sound.volume = 0.4; // ุตูุช ูุงุฏู
            sound.play().catch(() => {});
        }
    }

    // ุฅุถุงูุฉ ุงูุฑุณุงูุฉ ูููุงุฌูุฉ
    function appendMsg(txt, cls) {
        const body = document.getElementById('chat-body');
        if (!body) return;
        const time = new Date().toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });
        const div = document.createElement('div');
        div.className = `miro-msg ${cls} animate-msg`;
        div.innerHTML = `${txt} 
            <div style="display:flex; justify-content:flex-end; gap:5px; font-size:10px; color:#888; margin-top:4px;">
                <span>${time}</span>
                <i class="far fa-copy" style="cursor:pointer" onclick="navigator.clipboard.writeText('${txt.replace(/'/g, "\\'")}');"></i>
            </div>`;
        body.appendChild(div);
        body.scrollTop = body.scrollHeight;
    }

    // ุฅุฏุงุฑุฉ ุชุบููุฑ ุงุณู ุงูุจูุช
    function openRenameModal() { document.getElementById('rename-modal').style.display = 'flex'; }
    function closeRenameModal() { document.getElementById('rename-modal').style.display = 'none'; }
    
    function saveBotName() {
        const newName = document.getElementById('new-bot-name').value.trim();
        if (newName) {
            botName = newName;
            localStorage.setItem('bot_name', newName);
            document.getElementById('bot-name-display').innerText = botName;
            closeRenameModal();
            appendMsg(`ุชู ุชุญุฏูุซ ุงุณูู ูู ${botName} ๐๐ป`, 'bot-m');
        }
    }

    // ุงูุชุดุบูู ุนูุฏ ุงูุชุญููู
    window.addEventListener('load', () => {
        const input = document.getElementById('user-input');
        if (input) {
            input.addEventListener('keypress', (e) => { if (e.key === 'Enter') handleSendMessage(); });
        }
        document.getElementById('bot-name-display').innerText = botName;
        getStoredName();
    });
</script>


    <script type="module">
        import { auth } from './auth.js';
        import { onAuthStateChanged, signOut } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js";

        // ููุชุธุฑ ุญุชู ุชุญูู ุงูุตูุญุฉ ุจุงููุงูู
        window.addEventListener('DOMContentLoaded', () => {

            onAuthStateChanged(auth, (user) => {
                const authText = document.getElementById('authText');
                const authIcon = document.getElementById('authIcon');
                const authItem = document.getElementById('authItem');

                if (user) {
                    // ุงููุณุชุฎุฏู ูุณุฌู ุฏุฎูู
                    if (authText) authText.innerHTML = '<span style="cursor:pointer">ุชุจุฏูู ุงูุญุณุงุจ</span>';
                    if (authIcon) authIcon.className = "fa-solid fa-arrows-rotate";

                    // ุฅุถุงูุฉ ูุธููุฉ ุชุณุฌูู ุงูุฎุฑูุฌ ุนูุฏ ุงูุถุบุท
                    if (authItem) {
                        authItem.onclick = async (e) => {
                            e.preventDefault();
                            if (confirm) {
                                await signOut(auth);
                                window.location.href = "login.html";
                            }
                        };
                    }
                } else {
                    // ุงููุณุชุฎุฏู ุบูุฑ ูุณุฌู
                    if (authText) authText.innerHTML = '<a href="login.html" style="text-decoration:none; color:inherit;">ุชุณุฌูู ุงูุฏุฎูู</a>';
                    if (authIcon) authIcon.className = "fa-solid fa-right-to-bracket";
                    if (authItem) authItem.onclick = null; // ุฅุฒุงูุฉ ุญุฏุซ ุงูุถุบุท
                }
            });
        });

    </script>

    <main class="main-container">

        <section class="hero-section">

            <!-- ูุงุฌูุฉ ุงููููุน -->

            <!-- ุงููููุฉ ุงููุงููุฉ ุงูุฌุงูุจูุฉ -->
            <div class="icona">
                <i class="fa-solid fa-bars-staggered menu-btn" onclick="toggleSidebar()"></i>
            </div>
            <!-- ุงููููุฉ ุงูุงุดุนุงุฑุงุช -->
            <div id="smart-notif-left-system">

                <!-- ุงููุงุฌูุฉ -->
                <div class="miro-hero-master">

                    <div class="hero-glow-1"></div>
                    <div class="hero-glow-2"></div>

                    <div class="hero-frame">
                        <div class="hero-badge">๐ฑ ูุฐููููููููููุฑ</div>

                        <h1 class="hero-main-heading">ููุงุฐูููุฑููููู ุฃูุฐูููุฑููููู</h1>

                        <p class="hero-description">
                            ุฒููุฉ ุงูุญูุงุฉ ุงูุฏููุง ุฐูุฑ ุงููู ูุทูุฃูููุฉ ุงูููุจุ
                            ุงุฌุนู ูุณุงูู ุฑุทุจุงู ุจุฐูุฑ ุงูุฑุญูู.
                        </p>

    
                        <div class="hero-metrics-grid">
                            <div class="metric-line"></div>
                        </div>
                    </div>
                    <div class="miro-scroll-trigger" onclick="scrollToQuiz()">
                        <div class="scroll-wrapper">
                            <span class="scroll-hint">ุฃุฑุญ ููุจู ุจุฐูุฑ ุงููู</span>
                            <div class="scroll-icon-box">
                                <i class="fa-solid fa-chevron-down"></i>
                                <div class="pulse-ring"></div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="notif-fixed-left" onclick="window.location.href='notifications.html'">
                    <div class="bell-wrapper">
                        <img id="notif-bell-icon" src="https://cdn-icons-png.flaticon.com/512/3602/3602145.png"
                            width="22">
                        <span id="notif-count-badge" style="display:none;">0</span>
                    </div>
                    <span id="notif-text-hint"></span>
                </div>

                <script type="module">
                    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
                    import { getFirestore, collection, query, where, onSnapshot } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";
                    import { getAuth, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js";

                    const firebaseConfig = { apiKey: "AIzaSyA4h9MsH0Szht7taowp95WcBr2y6scXe1k", projectId: "dev-fbfd8" };
                    const app = initializeApp(firebaseConfig);
                    const db = getFirestore(app);
                    const auth = getAuth(app);

                    onAuthStateChanged(auth, (user) => {
                        if (user) {
                            const q = query(collection(db, "notifications"), where("userId", "in", [user.uid, "all"]));

                            onSnapshot(q, (snap) => {
                                const readNotifs = JSON.parse(localStorage.getItem('reads') || '[]');
                                let unreadCount = 0;

                                snap.forEach(docSnap => {
                                    if (!readNotifs.includes(docSnap.id)) {
                                        unreadCount++;
                                    }
                                });

                                const badge = document.getElementById('notif-count-badge');
                                const textHint = document.getElementById('notif-text-hint');
                                const bell = document.getElementById('notif-bell-icon');

                                if (unreadCount > 0) {
                                    badge.style.display = "flex";
                                    badge.innerText = unreadCount;
                                    textHint.style.display = "block";

                                    // ุชุฎุตูุต ุงูุฑุณุงูุฉ ุญุณุจ ุงูุนุฏุฏ
                                    if (unreadCount === 1) {
                                        textHint.innerText = "ูุฏูู ุฅุดุนุงุฑ ูุงุญุฏ ุฌุฏูุฏ";
                                    } else {
                                        textHint.innerText = "ูุฏูู ุฅุดุนุงุฑุงุช ุฌุฏูุฏุฉ";
                                    }

                                    // ุชุฃุซูุฑ ุงูุฑูุฉ
                                    bell.classList.add('shake-it');
                                    setTimeout(() => bell.classList.remove('shake-it'), 500);
                                } else {
                                    badge.style.display = "none";
                                    textHint.style.display = "none";
                                }
                            });
                        }
                    });
                </script>
            </div>


            <div id="quiz-section" class="mi-container"></div>


        </section>

        <section class="mir-quran-box">
            <div class="mir-card-frame" id="mir-ayah-display">
                <div class="mir-quote-mark">โ</div>

                <div class="mir-content-body">
                    <h2 id="mir-text-output" class="mir-ayah-style">ุฌุงุฑู ุงูุชุญููู...</h2>

                    <div id="mir-source-output" class="mir-ayah-info"></div>

                    <div class="mir-divider">
                        <span></span><i class="fa-solid fa-star-and-crescent"></i><span></span>
                    </div>

                    <div class="mir-lesson-wrapper">
                        <p id="mir-lesson-output" class="mir-lesson-text"></p>
                    </div>
                </div>

                <div class="mir-timer-bg">
                    <div id="mir-progress-fill" class="mir-timer-bar"></div>
                </div>
            </div>
        </section>


        <section class="azkar-container">
            <a href="pages/morning.html" class="mini-card" id="morning-card">
                <div id="morning-bubble" class="card-talk"></div>
                <div class="card-icon">
                    <img src="image/sun.jpg" alt="ุฃุฐูุงุฑ ุงูุตุจุงุญ" class="custom-img-icon" draggable="false">
                </div>
                <h4>ุฃุฐูุงุฑ ุงูุตุจุงุญ</h4>
            </a>

            <a href="pages/evening.html" class="mini-card" id="evening-card">
                <div id="evening-bubble" class="card-talk"></div>
                <div class="card-icon">
                    <img src="image/moon.jpg" alt="ุฃุฐูุงุฑ ุงููุณุงุก" class="custom-img-icon" draggable="false">
                </div>
                <h4>ุฃุฐูุงุฑ ุงููุณุงุก</h4>
            </a>

            <a href="pages/wakeup.html" class="mini-card" id="wakeup-card">
                <div id="wakeup-bubble" class="card-talk wakeup-style"></div>
                <div class="card-icon">
                    <img src="image/wakeup.jpg" alt="ุฃุฐูุงุฑ ุงูุงุณุชููุงุธ" class="custom-img-icon" draggable="false">
                </div>
                <h4>ุฃุฐูุงุฑ ุงูุงุณุชููุงุธ</h4>
            </a>

            <a href="pages/prayer-times.html" class="mini-card" id="prayer-card">
                <div id="prayer-bubble" class="card-talk"></div>
                <div class="card-icon prayer-icon-wrapper">
                    <img src="image/prayer.jpg" alt="ุงูุตูุงุฉ" class="custom-img-icon" draggable="false">
                </div>
                <h4>ููุงููุช ุงูุตูุงุฉ</h4>
            </a>

            <a href="pages/sleep.html" class="mini-card" id="sleep-card">
                <div id="sleep-bubble" class="card-talk"></div>
                <div class="card-icon sleep-icon-wrapper">
                    <img src="image/sleep.jpg" alt="Sleep" class="sleep-img" id="sleep-img-id">
                    <div class="zzz-container" id="zzz-box"></div>
                </div>
                <h4>ุฃุฐูุงุฑ ุงูููู</h4>
            </a>
            <a href="pages/tasbeeh.html" class="mini-card" id="tasbeeh-card">
                <div id="tasbeeh-bubble" class="card-talk tasbeeh-count-style">0</div>
                <div id="tasbeeh-count-float" class="tasbeeh-float"></div>
                <div class="card-icon">
                    <img src="image/sapha.png" alt="ุงูุณุจุญุฉ" class="sapha-img" id="sapha-img" draggable="false">
                </div>
                <h4>ุงูุณุจุญุฉ ุงูุฅููุชุฑูููุฉ</h4>
            </a>
            <a href="pages/mosque.html" class="mini-card">
                <div class="card-icon">
                    <img src="image/mosque.png" alt="ุงููุณุฌุฏ" class="custom-img-icon" draggable="false">
                </div>
                <h4>ุงููุณุฌุฏ ูุงููุถูุก</h4>
            </a>

            <a href="pages/AfterSalah.html" class="mini-card" id="aftersalah-card">
                <div id="aftersalah-bubble" class="card-talk aftersalah-style"></div>
                <div class="card-icon">
                    <img src="image/d3aa.png" alt="ุจุนุฏ ุงูุตูุงุฉ" class="custom-img-icon" draggable="false">
                </div>
                <h4>ุจุนุฏ ุงูุตูุงุฉ</h4>
            </a>

            <a href="pages/names.html" class="mini-card" id="names-card">
                <div id="names-bubble" class="card-talk names-style">
                    <span id="name-text"></span>
                    <div class="feather f1">๐ชถ</div>
                    <div class="feather f2">๐ชถ</div>
                </div>
                <div class="card-icon">
                    <img src="image/names.jpg" alt="ุฃุณูุงุก ุงููู ุงูุญุณูู" class="custom-img-icon" draggable="false">
                </div>
                <h4>ุฃุณูุงุก ุงููู ุงูุญุณูู</h4>
            </a>

            <a href="pages/hadith.html" class="mini-card" id="hadith-card">
                <div id="hadith-bubble" class="card-talk hadith-style"></div>
                <div class="card-icon">
                    <img src="image/hadis.png" alt="ุฃุญุงุฏูุซ ูุจููุฉ" class="custom-img-icon" draggable="false">
                </div>
                <h4>ุฃุญุงุฏูุซ ูุจููุฉ</h4>
            </a>

            <a href="pages/adab.html" class="mini-card" id="adab-card">
                <div id="adab-bubble" class="card-talk adab-style"></div>
                <div class="card-icon">
                    <img src="image/adab.png" alt="ุงูุขุฏุงุจ" class="custom-img-icon" draggable="false">
                </div>
                <h4>ุงูุขุฏุงุจ ุงูุฅุณูุงููุฉ</h4>
            </a>

            <a href="pages/nawawi.html" class="mini-card" id="nawawi-card">
                <div id="nawawi-bubble" class="card-talk nawawi-style"></div>
                <div class="card-icon">
                    <i class="fa-solid fa-scroll"></i>
                </div>
                <h4>ุงูุฃุฑุจุนูู ุงูููููุฉ</h4>
            </a>


            <a href="pages/hisn.html" class="mini-card" id="hisn-card">
                <div id="hisn-bubble" class="card-talk hisn-style"></div>
                <div class="card-icon">
                    <img src="image/book(1).png" alt="ุญุตู ุงููุณูู" class="custom-img-icon" draggable="false">
                </div>
                <h4>ุญุตู ุงููุณูู</h4>
            </a>


            <a href="pages/quiz.html" class="mini-card" id="quiz-card">
                <div id="quiz-bubble" class="card-talk quiz-style"></div>
                <div class="card-icon">
                    <img src="image/exam.png" alt="ุงุฎุชุจุฑ ุญูุธู" class="custom-img-icon" draggable="false">
                </div>
                <h4>ุงุฎุชุจุฑ ุญูุธู</h4>
            </a>
        </section>






    </main>


    <footer class="footer">
        <p class="quran-ayah">
            ๏ดฟ ููุฐููููุฑู ููุฅูููู ุงูุฐููููุฑูููฐ ุชููููุนู ุงููููุคูููููููู ๏ดพ
        </p>
        <hr>
        <p class="dev">
            ๐ฟ Developed by
            <a href="https://wa.me/201158601817" target="_blank">
                Omar Tegany
            </a>
        </p>
        <div class="dhikr-container">
            <div class="dhikr-track">
                <span>ุณุจุญุงู ุงููู ูุจุญูุฏู</span>
                <span>ูุง ุฅูู ุฅูุง ุงููู</span>
                <span>ุฃุณุชุบูุฑ ุงููู ุงูุนุธูู</span>
                <span>ุตูู ุนูู ูุญูุฏ ๏ทบ</span>
                <span>ุณุจุญุงู ุงููู ุงูุนุธูู</span>
                <span>ูุง ุญูู ููุง ููุฉ ุฅูุง ุจุงููู</span>
                <span>ุงูุญูุฏ ููู ุญูุฏุงู ูุซูุฑุงู</span>
                <span>ูุง ุญู ูุง ูููู</span>
                <span>ุณุจุญุงู ุงููู ูุจุญูุฏู</span>
                <span>ูุง ุฅูู ุฅูุง ุงููู</span>
                <span>ุฃุณุชุบูุฑ ุงููู ุงูุนุธูู</span>
                <span>ุตูู ุนูู ูุญูุฏ ๏ทบ</span>
                <span>ุณุจุญุงู ุงููู ุงูุนุธูู</span>
                <span>ูุง ุญูู ููุง ููุฉ ุฅูุง ุจุงููู</span>
                <span>ุงูุญูุฏ ููู ุญูุฏุงู ูุซูุฑุงู</span>
                <span>ูุง ุญู ูุง ูููู</span>
            </div>
        </div>
        <style>
            .dhikr-container {
                width: 100%;
                overflow: hidden;
                background: rgba(45, 106, 79, 0.05);
                backdrop-filter: blur(5px);
                padding: 12px 0;
                margin-top: 70px;
                border-bottom: 1px solid rgba(45, 106, 79, 0.1);
                white-space: nowrap;
                position: relative;
            }

            /* ุฅุถุงูุฉ ุชุฏุฑุฌ ุดูุงู ูู ุงูุฃุทุฑุงู ุนุดุงู ุงูุฃุฐูุงุฑ ุชุธูุฑ ูุชุฎุชูู ุจูุนููุฉ */
            .dhikr-container::before,
            .dhikr-container::after {
                content: "";
                position: absolute;
                top: 0;
                width: 50px;
                height: 100%;
                z-index: 2;
            }

            .dhikr-container::before {
                left: 0;
                background: linear-gradient(to right, var(--bg), transparent);
            }

            .dhikr-container::after {
                right: 0;
                background: linear-gradient(to left, var(--bg), transparent);
            }

            .dhikr-track {
                display: inline-flex;
                gap: 60px;
                animation: scrollDhikr 30s linear infinite;
                /* ุฒูุงุฏุฉ ุงูููุช (30 ุซุงููุฉ) ุชุฎูู ุงูุญุฑูุฉ ุฃูุฏู ูุฃุดูู */
            }

            .dhikr-track span {
                font-size: 15px;
                color: var(--primary);
                font-weight: 700;
                opacity: 0.8;
                display: flex;
                align-items: center;
                gap: 10px;
            }

            /* ุฅุถุงูุฉ ุฃููููุฉ ูุงุตูุฉ ุตุบูุฑุฉ ุจูู ูู ุฐูุฑ ูุงูุซุงูู */
            .dhikr-track span::after {
                content: "โข";
                color: var(--accent);
                font-size: 20px;
                margin-right: 30px;
            }

            @keyframes scrollDhikr {
                0% {
                    transform: translateX(0);
                }

                100% {
                    transform: translateX(50%);
                }

                /* ุจูุญุฑู ููุต ุงููุณุงูุฉ ููุท ูุฃููุง ููุฑุฑูู ุงูุนูุงุตุฑ */
            }

            /* ุชููู ุงูุญุฑูุฉ ุนูุฏ ุงููููู ุจุงููุงูุณ ุนุดุงู ูู ุงููุณุชุฎุฏู ุนุงูุฒ ููุฑุฃ ุฐูุฑ ูุนูู */
            .dhikr-container:hover .dhikr-track {
                animation-play-state: paused;
            }
        </style>
    </footer>
    <button id="backToTop" class="back-to-top" title="ุงูุนูุฏุฉ ููุฃุนูู">
        <i class="fa-solid fa-arrow-up"></i>
    </button>

    <script src="ุงูุงุฐูุงุฑ.js"></script>
</body>

</html>