<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>وذكر | أذكار المساء</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Amiri:wght@400;700&family=Cairo:wght@400;600;700;900&display=swap" rel="stylesheet">
    <style>
        :root {
            /* باليتة المساء: أزرق ليلي عميق مع لمسات ذهبية */
            --bg: #0f172a;
            --nav-bg: rgba(30, 41, 59, 0.8);
            --card-bg: #ffffff;
            --text-dark: #1e293b;
            --primary: #c5a059; /* ذهبي مطفي */
            --accent: #334155;
            --shadow: 0 10px 30px rgba(0,0,0,0.3);
        }

        /* منع اختيار النص واللون الأزرق عند الضغط */
        * { 
            -webkit-tap-highlight-color: transparent; 
            user-select: none; 
            box-sizing: border-box; 
            outline: none; 
        }

        body { 
            margin: 0; font-family: 'Cairo', sans-serif; min-height: 100vh;
            background: var(--bg) url('https://www.transparenttextures.com/patterns/islamic-art.png');
            display: flex; flex-direction: column; align-items: center;
            padding: 90px 15px 30px; color: #fff;
            overflow-x: hidden;
        }

        /* الناف بار الفخم */
        .navbar {
            position: fixed; top: 0; width: 100%; height: 70px;
            background: var(--nav-bg); backdrop-filter: blur(15px);
            display: flex; align-items: center; justify-content: space-between;
            padding: 0 5%; z-index: 1000; box-shadow: var(--shadow);
            border-bottom: 1px solid rgba(197, 160, 89, 0.2);
        }

        .back-btn {
            width: 40px; height: 40px; background: rgba(255,255,255,0.1);
            border-radius: 12px; display: grid; place-items: center;
            color: var(--primary); cursor: pointer; transition: 0.3s;
            text-decoration: none; border: 1px solid rgba(197, 160, 89, 0.3);
        }

        .nav-title { font-family: 'Amiri'; font-size: 24px; color: var(--primary); font-weight: 700; }

        /* حاوية الأذكار */
        .container { width: 100%; max-width: 500px; z-index: 10; }

        /* الكارد المطور */
        .zkr-card {
            background: var(--card-bg); border-radius: 25px; padding: 25px;
            margin-bottom: 20px; position: relative; box-shadow: var(--shadow);
            border-right: 5px solid var(--primary); animation: slideUp 0.5s ease forwards;
        }

        @keyframes slideUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }

        .actions {
            display: flex; gap: 15px; position: absolute; top: 15px; left: 20px;
        }

        .action-icon {
            color: #cbd5e1; cursor: pointer; transition: 0.3s; font-size: 1.1rem;
        }
        .action-icon:hover { color: var(--primary); transform: scale(1.1); }

        .zkr-text {
            font-family: 'Amiri', serif; font-size: 1.4rem; line-height: 1.8;
            text-align: center; color: var(--text-dark); margin: 30px 0 20px;
            /* السماح بالنسخ داخل هذا العنصر فقط عند استخدام زر النسخ برمجيًا */
            user-select: none;
        }

        .zkr-source {
            display: block; text-align: center; font-size: 0.85rem;
            color: var(--primary); font-weight: 700; margin-bottom: 20px; opacity: 0.9;
        }

        /* زر العداد */
        .counter-btn {
            width: 100%; padding: 15px; background: #f1f5f9;
            color: var(--text-dark); border: 2px solid #e2e8f0;
            border-radius: 15px; font-size: 1.1rem; font-weight: 800;
            cursor: pointer; transition: 0.3s all; display: flex;
            justify-content: center; align-items: center; gap: 8px;
        }

        .counter-btn span {
            background: var(--primary); color: #fff;
            padding: 2px 12px; border-radius: 8px; font-size: 1.2rem;
        }

        .counter-btn.done {
            background: var(--primary) !important; color: #fff !important;
            border: none; transform: scale(0.98); opacity: 0.8;
        }

        /* ريبون النسخة التجريبية (يمين تحت) */
        .beta-ribbon-wrapper {
            position: fixed; bottom: 0; right: 0; width: 100px; height: 100px;
            overflow: hidden; z-index: 9999; pointer-events: none;
        }
        .beta-ribbon-content {
            position: absolute; display: block; width: 160px; padding: 5px 0;
            background: linear-gradient(135deg, #c5a059, #8e6d2f);
            color: #fff; font-size: 8px; font-weight: 700; text-align: center;
            right: -40px; bottom: 20px; transform: rotate(-45deg);
            box-shadow: 0 4px 15px rgba(0,0,0,0.3);
        }

        /* توست التنبيه */
        #toast {
            position: fixed; bottom: 80px; left: 50%; transform: translateX(-50%);
            background: rgba(0,0,0,0.8); color: #fff; padding: 10px 25px;
            border-radius: 50px; font-size: 0.9rem; display: none; z-index: 2000;
            backdrop-filter: blur(5px); border: 1px solid rgba(255,255,255,0.1);
        }
    </style>
</head>
<body oncontextmenu="return false;">

    <nav class="navbar">
        <div style="width: 40px;"></div> <div class="nav-title">أذكــار الــمــســاء</div>
        <div class="back-btn" onclick="history.back()">
            <i class="fa-solid fa-arrow-left"></i>
        </div>
    </nav>

    <div class="container" id="azkar-list">
        </div>

    <button onclick="location.reload()" style="margin: 20px; background: none; border: 1px solid var(--primary); color: var(--primary); padding: 10px 30px; border-radius: 50px; font-family: 'Cairo'; font-weight: 700; cursor: pointer;">إعادة البداية</button>

    <div id="toast"></div>


    <script>
        // مصفوفة البيانات (ضيف بياناتك هنا يا عمر)
 const eveningAzkar = [
    {
        id: 1,
        title: "آية الكرسي",
        text: "أَعُوذُ بِاللهِ مِنَ الشَّيْطَانِ الرَّجِيمِ: <span class='highlight-green'>«اللَّهُ لَا إِلَهَ إِلَّا هُوَ الْحَيُّ الْقَيُّومُ لَا تَأْخُذُهُ سِنَةٌ وَلَا نَوْمٌ لَهُ مَا فِي السَّمَاوَاتِ وَمَا فِي الْأَرْضِ مَنْ ذَا الَّذِي يَشْفَعُ عِنْدَهُ إِلَّا بِإِذْنِهِ يَعْلَمُ مَا بَيْنَ أَيْدِيهِمْ وَمَا خَلْفَهُمْ وَلَا يُحِيطُونَ بِشَيْءٍ مِنْ عِلْمِهِ إِلَّا بِمَا شَاءَ وَسِعَ كُرْسِيُّهُ السَّمَاوَاتِ وَالْأَرْضَ وَلَا يَئُودُهُ حِفْظُهُمَا وَهُوَ الْعَلِيُّ الْعَظِيمُ»</span>.",
        source: "من قرأها حين يمسي أجير من الجن حتى يصبح",
        count: 1
    },
    {
        id: 2,
        title: "سورة الإخلاص والمعوذتين",
        text: "بِسْمِ اللهِ الرَّحْمنِ الرَّحِيمِ: <span class='highlight-green'>«قُلْ هُوَ اللَّهُ أَحَدٌ، اللَّهُ الصَّمَدُ، لَمْ يَلِدْ وَلَمْ يُولَدْ، وَلَمْ يَكُن لَّهُ كُفُوًا أَحَدٌ»</span>. <br> بِسْمِ اللهِ الرَّحْمنِ الرَّحِيمِ: <span class='highlight-green'>«قُلْ أَعُوذُ بِرَبِّ الْفَلَقِ، مِن شَرِّ مَا خَلَقَ، وَمِن شَرِّ غَاسِقٍ إِذَا وَقَبَ، وَمِن شَرِّ النَّفَّاثَاتِ فِي الْعُقَدِ، وَمِن شَرِّ حَاسِدٍ إِذَا حَسَدَ»</span>. <br> بِسْمِ اللهِ الرَّحْمنِ الرَّحِيمِ: <span class='highlight-green'>«قُلْ أَعُوذُ بِرَبِّ النَّاسِ، مَلِكِ النَّاسِ، إِلَهِ النَّاسِ، مِن شَرِّ الْوَسْوَاسِ الْخَنَّاسِ، الَّذِي يُوَسْوِسُ فِي صُدُورِ النَّاسِ، مِنَ الْجِنَّةِ وَ النَّاسِ»</span>.",
        source: "تكفيه من كل شيء",
        count: 3
    },
    {
        id: 3,
        title: "سيد الاستغفار",
        text: "<span class='highlight-green'>«اللَّهُمَّ أَنْتَ رَبِّي لَا إِلَهَ إِلَّا أَنْتَ، خَلَقْتَنِي وَأَنَا عَبْدُكَ، وَأَنَا عَلَى عَهْدِكَ وَوَعْدِكَ مَا اسْتَطَعْتُ، أَعُوذُ بِكَ مِنْ شَرِّ مَا صَنَعْتُ، أَبُوءُ لَكَ بِنِعْمَتِكَ عَلَيَّ، وَأَبُوءُ لَكَ بِذَنْبِي فَاغْفِرْ لِي، فَإِنَّهُ لَا يَغْفِرُ الذُّنُوبَ إِلَّا أَنْتَ»</span>.",
        source: "من قالها موقنا بها ومات من ليلته دخل الجنة",
        count: 1
    },
    {
        id: 4,
        title: "دعاء المساء العام",
        text: "<span class='highlight-green'>«أَمْسَيْنَا وَأَمْسَى الْمُلْكُ لِلَّهِ، وَالْحَمْدُ لِلَّهِ، لَا إِلَهَ إِلَّا اللَّهُ وَحْدَهُ لَا شَرِيكَ لَهُ، لَهُ الْمُلْكُ وَلَهُ الْحَمْدُ وَهُوَ عَلَى كُلِّ شَيْءٍ قَدِيرٌ، رَبِّ أَسْأَلُكَ خَيْرَ مَا فِي هَذِهِ اللَّيْلَةِ وَخَيْرَ مَا بَعْدَهَا، وَأَعُوذُ بِكَ مِنْ شَرِّ مَا فِي هَذِهِ اللَّيْلَةِ وَشَرِّ مَا بَعْدَهَا، رَبِّ أَعُوذُ بِكَ مِنَ الْكَسَلِ، وَسُوءِ الْكِبَرِ، رَبِّ أَعُوذُ بِكَ مِنْ عَذَابٍ فِي النَّارِ وَعَذَابٍ فِي الْقَبْرِ»</span>.",
        source: "رواه مسلم",
        count: 1
    },
    {
        id: 5,
        title: "رضيت بالله ربا",
        text: "<span class='highlight-green'>«رَضِيتُ بِاللَّهِ رَبًّا، وَبِالْإِسْلَامِ دِينًا، وَبِمُحَمَّدٍ ﷺ نَبِيًّا»</span>.",
        source: "كان حقا على الله أن يرضيه يوم القيامة",
        count: 3
    },
    {
        id: 6,
        title: "بسم الله الذي لا يضر",
        text: "<span class='highlight-green'>«بِسْمِ اللَّهِ الَّذِي لَا يَضُرُّ مَعَ اسْمِهِ شَيْءٌ فِي الْأَرْضِ وَلَا فِي السَّمَاءِ وَهُوَ السَّمِيعُ الْعَلِيمُ»</span>.",
        source: "لم يضره من الله شيء",
        count: 3
    },
    {
        id: 7,
        title: "أعوذ بكلمات الله التامات",
        text: "<span class='highlight-green'>«أَعُوذُ بِكَلِمَاتِ اللَّهِ التَّامَّاتِ مِنْ شَرِّ مَا خَلَقَ»</span>.",
        source: "لم تضره حمة (سم) لو لدغ في ليلته",
        count: 3
    },
    {
        id: 8,
        title: "الصلاة على النبي",
        text: "<span class='highlight-green'>«اللَّهُمَّ صَلِّ وَسَلِّمْ عَلَى نَبِيِّنَا مُحَمَّدٍ»</span>.",
        source: "من صلى عليّ حين يمسي عشراً أدركته شفاعتي",
        count: 10
    },
    {
        id: 9,
        title: "يا حي يا قيوم",
        text: "<span class='highlight-green'>«يَا حَيُّ يَا قَيُّومُ بِرَحْمَتِكَ أَسْتَغِيثُ أَصْلِحْ لِي شأْنِي كُلَّهُ وَلَا تَكِلْنِي إِلَى نَفْسِي طَرْفَةَ عَيْنٍ»</span>.",
        source: "أذكار نبوية جامعة",
        count: 1
    },
    {
        id: 10,
        title: "سبحان الله وبحمده",
        text: "<span class='highlight-green'>«سُبْحَانَ اللهِ وَبِحَمْدِهِ»</span>.",
        source: "حطت خطاياه وإن كانت مثل زبد البحر",
        count: 100
    },
    {
        id: 11,
        title: "حسبي الله لا إله إلا هو",
        text: "<span class='highlight-green'>«حَسْبِيَ اللَّهُ لَا إِلَهَ إِلَّا هُوَ عَلَيْهِ تَوَكَّلْتُ وَهُوَ رَبُّ الْعَرْشِ الْعَظِيمِ»</span>.",
        source: "كفاه الله ما أهمه من أمر الدنيا والآخرة",
        count: 7
    },
    {
        id: 12,
        title: "اللهم عافني في بدني",
        text: "<span class='highlight-green'>«اللَّهُمَّ عَافِنِي فِي بَدَنِي، اللَّهُمَّ عَافِنِي فِي سَمْعِي، اللَّهُمَّ عَافِنِي فِي بَصَرِي، لَا إِلَهَ إِلَّا أَنْتَ. اللَّهُمَّ إِنِّي أَعُوذُ بِكَ مِنَ الْكُفْرِ، وَالْفَقْرِ، وَأَعُوذُ بِكَ مِنْ عَذَابِ الْقَبْرِ، لَا إِلَهَ إِلَّا أَنْتَ»</span>.",
        source: "دعاء العافية",
        count: 3
    }
];


        const list = document.getElementById('azkar-list');

        eveningAzkar.forEach((zkr, index) => {
            list.innerHTML += `
                <div class="zkr-card">
                    <div class="actions">
                        <i class="fa-solid fa-rotate-left action-icon" onclick="resetSingle(${index}, ${zkr.count})" title="إعادة"></i>
                        <i class="fa-regular fa-copy action-icon" onclick="copyZkr(${index})" title="نسخ"></i>
                        <i class="fa-solid fa-share-nodes action-icon" onclick="shareZkr(${index})" title="مشاركة"></i>
                    </div>
                    <p class="zkr-text" id="text-${index}">${zkr.text}</p>
                    <span class="zkr-source">${zkr.source}</span>
                    <button class="counter-btn" id="btn-${index}" onclick="countDown(this)">باقي: <span id="count-${index}">${zkr.count}</span></button>
                </div>
            `;
        });

        function countDown(btn) {
            let span = btn.querySelector('span');
            let count = parseInt(span.innerText);
            if (count > 1) {
                span.innerText = count - 1;
                if(navigator.vibrate) navigator.vibrate(40);
            } else {
                btn.innerHTML = "تمت القراءة <i class='fa-solid fa-check'></i>";
                btn.classList.add('done');
                btn.onclick = null;
                if(navigator.vibrate) navigator.vibrate([50, 30, 50]);
            }
        }

        function resetSingle(index, original) {
            const btn = document.getElementById(`btn-${index}`);
            btn.innerHTML = `باقي: <span id="count-${index}">${original}</span>`;
            btn.classList.remove('done');
            btn.onclick = function() { countDown(this); };
            showToast("تمت إعادة العداد");
        }

        function copyZkr(index) {
            const txt = document.getElementById(`text-${index}`).innerText;
            // استخدام الطريقة الحديثة للنسخ
            const el = document.createElement('textarea');
            el.value = txt;
            document.body.appendChild(el);
            el.select();
            document.execCommand('copy');
            document.body.removeChild(el);
            showToast("تم النسخ بنجاح");
        }

        function shareZkr(index) {
            const txt = document.getElementById(`text-${index}`).innerText;
            const msg = txt + "\n\n(عبر تطبيق وذكر)";
            if (navigator.share) {
                navigator.share({ title: 'أذكار المساء', text: msg });
            } else {
                window.open(`https://wa.me/?text=${encodeURIComponent(msg)}`);
            }
        }

        function showToast(m) {
            const t = document.getElementById('toast');
            t.innerText = m;
            t.style.display = 'block';
            setTimeout(()=> t.style.display='none', 2000);
        }

        // منع الاختصار التقليدي للنسخ بلوحة المفاتيح
        document.addEventListener('copy', (e) => {
            if (!window.getSelection().toString()) return; // السماح لو كان النسخ من الكود برمجياً
            e.preventDefault();
        });
    </script>
</body>
</html>
